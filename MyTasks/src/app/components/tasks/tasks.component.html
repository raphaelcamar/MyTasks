
<app-header></app-header>
<div >
  
<h1 class="tasks">Cadastre uma tarefa</h1>

  <form class="container add-task" [formGroup]="formulary" (ngSubmit)="addTask()">
    <mat-form-field appearance="fill" color="accent">
      <mat-label >Nome</mat-label>
      <input matInput type="text" formControlName="name" name="name" placeholder="Nome" required>
      <!-- <mat-icon matSuffix>sentiment_very_satisfied</mat-icon> -->
      <mat-error>Nome não pode ser vazio</mat-error>
    </mat-form-field>
  
    <mat-form-field appearance="fill" color="accent">
      <mat-label>Descrição</mat-label>
      <input matInput type="text" formControlName="description" name="description" placeholder="Descrição" required/>
      <!-- <mat-icon matSuffix>sentiment_very_satisfied</mat-icon> -->
      <mat-error>Descrição não pode ser vazio</mat-error>
    </mat-form-field>
  
    <mat-form-field appearance="fill" color="accent">
      <mat-label>data</mat-label>
      <input matInput type="text" formControlName="data" name="data" placeholder="Data" required/>
      <!-- <mat-icon matSuffix>sentiment_very_satisfied</mat-icon> -->
      <mat-error>Data não pode ser vazio</mat-error>
    </mat-form-field>
  
    <mat-form-field appearance="fill" color="accent">
      <mat-label>Está finalizado?</mat-label>
      <input matInput type="text" formControlName="isFinished" name="isFinished" placeholder="Está finalizada?" required/>
      <!-- <mat-icon matSuffix>sentiment_very_satisfied</mat-icon> -->
      <mat-error>Não pode ser vazio</mat-error>
    </mat-form-field>
  
    <mat-form-field appearance="fill" color="accent">
      <mat-label>Importância</mat-label>
      <input matInput type="text" formControlName="importance" name="importance" placeholder="Importância" required/>
      <!-- <mat-icon matSuffix>sentiment_very_satisfied</mat-icon> -->
      <mat-error>Descrição da importância não pode ser vazia</mat-error>
    </mat-form-field>
    
    <button mat-button [disabled]="!formulary.valid" class="button">Cadastrar</button>
  </form>
</div>

<section>
  <!--for demo wrap-->
  <h1 class="tasks">Suas Tarefas!</h1>
  <div class="tbl-header">
    <table cellpadding="0" cellspacing="0">
      <thead>
        <tr>
          <th>Nome</th>
          <th>Descrição</th>
          <th>Data</th>
          <th>Está finalizado?</th>
          <th>Importância</th>
          <th>Editar</th>
          <th>Deletar</th>
        </tr>
      </thead>
    </table>
  </div>
  <div class="tbl-content">
    <table cellpadding="0" cellspacing="0">
      <tbody>
        <tr *ngFor="let tasks of allTasks">
          <td>{{tasks.name}}</td>
          <td>{{tasks.description}}</td>
          <td>{{tasks.data}}</td>
          <td>{{tasks.isFinished}}</td>
          <td>{{tasks.importance}}</td>
          <td><button mat-button (click)="openDialogUpdate(tasks.id)">Editar</button></td>
          <td><button mat-button (click)="openDialogDelete(tasks.id)">Deletar</button></td>
      </tr>
      </tbody>
    </table>
  </div>
</section>
<app-footer></app-footer>